<div class="container">
  <h1>Application Logs</h1>

  <div class="filters">
    <div class="filter-group">
      <label for="startDate">Start Date:</label>
      <input type="date" id="startDate" [(ngModel)]="startDate" (change)="onFilterChange()" />
    </div>

    <div class="filter-group">
      <label for="endDate">End Date:</label>
      <input type="date" id="endDate" [(ngModel)]="endDate" (change)="onFilterChange()" />
    </div>

    <div class="filter-group">
      <label for="severity">Severity:</label>
      <select id="severity" [(ngModel)]="severity" (change)="onFilterChange()">
        <option value="">All</option>
        <option value="info">Info</option>
        <option value="warn">Warn</option>
        <option value="error">Error</option>
      </select>
    </div>

    <div class="filter-group">
      <label for="productId">Product ID:</label>
      <input
        type="text"
        id="productId"
        [(ngModel)]="productId"
        (input)="onFilterChange()"
        placeholder="Filter by product ID"
      />
    </div>
  </div>

  <button (click)="deleteAllLogs()" class="btn btn-danger">Delete All Logs</button>

  <div *ngIf="errorMessage()" class="alert alert-error">
    {{ errorMessage() }}
  </div>

  <table class="table" *ngIf="logs().length > 0">
    <thead>
      <tr>
        <th>Timestamp</th>
        <th>Severity</th>
        <th>Message</th>
        <th>Route</th>
        <th>Method</th>
        <th>Status Code</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let log of logs()">
        <td>{{ log.timestamp | date : 'medium' }}</td>
        <td>{{ log.severity }}</td>
        <td>{{ log.message }}</td>
        <td>{{ log.route || 'N/A' }}</td>
        <td>{{ log.method || 'N/A' }}</td>
        <td>{{ log.statusCode || 'N/A' }}</td>
      </tr>
    </tbody>
  </table>

  <div *ngIf="logs().length === 0" class="no-data">No logs found.</div>
</div>
